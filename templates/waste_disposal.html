<!-- templates/waste_disposal.html -->
<!DOCTYPE html>
<html>
<head>
  <title>GarbageGuard - AI 기반 건설 폐기물 관리 서비스</title>
  <meta charset="utf-8" />
  <meta name="author" content="GarbageGuardMain" />
  <link rel="stylesheet" href="/static/css/Waste_disposalCSS.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- 메뉴바 -->
  <nav id="menubar">
    <div id="logo">
      <a href=""><img src="logo.png" alt="Logo" width="150" /></a>
    </div>
    <div id="menu1">
      <ul>
        <li><a href="Main.html">Main</a></li>
        <li class="menu-waste">
          <a href="#">Waste disposal</a>
          <div class="submenu">
            <a href="construction_site_registration.html">Construction site registration</a>
            <a href="#">2</a>
          </div>
        </li>
        <li><a href="">Analytics and Statistics</a></li>
        <li><a href="Createlift.html">Create lift</a></li>
      </ul>
    </div>
  </nav>

  <!-- 마우스 따라다니는 캐릭터 -->
  <div id="character">✨</div>

  <div class="main-wrapper">

  <!-- 상단 검색/날짜/저장 -->
  <div class="top-bar">
    <!-- 검색 + 날짜 그룹 -->
    <div class="search-date-group">
      <div class="input-box1">
        <label for="site-search">건설현장이름 검색</label>
        <div class="input-with-icon">
          <input type="text" id="site-search" placeholder="Enter site name" />
          <span class="search-icon">🔍</span>
        </div>
      </div>
      <div class="input-box2">
        <label for="site-date">날짜 선택</label>
        <div class="input-with-icon">
          <input type="date" id="site-date" />
          <span class="date-icon">📅</span>
        </div>
      </div>
    </div>

    <!-- 저장 버튼은 우측 끝으로 -->
    <div class="button-box">
      <button class="save-button">저장</button>
    </div>

    <!-- 검색 결과 표시 -->
    <div class="search-result" id="searchDisplay"></div>
  </div>

    <!-- 본문 영역 -->
    <div class="content-row">

      <!-- 왼쪽 패널 -->
      <div class="left-panel">
        <div class="upload-wrapper" onclick="document.getElementById('fileInput').click();">
          <div class="upload-placeholder" id="placeholder">
            <img src="https://img.icons8.com/ios-filled/100/upload-to-cloud.png" alt="Upload Icon">
            <p>jpg, png image</p>
          </div>
          <img id="preview" src="" alt="Preview" style="display:none; object-fit: contain;">
          <img id="detectionResult" src="" alt="Detection Result" style="display:none; object-fit: contain;">
          <input type="file" accept="image/*" id="fileInput" style="display:none;" onchange="previewImage(event)">
        </div>
      </div>

      <!-- 오른쪽 패널 -->
      <div class="right-panel">
        <div class="site-info-box">
          <h2 id="site-name-display">계룡건설 유성구</h2>
        </div>

        <div class="dashboard-container">
          <div class="dashboard-grid">
            <div class="data-box">
              <div class="icon">📊</div>
              <p class="label">전체 객체 수</p>
              <p class="value" id="totalObjects">0</p>
            </div>
            <div class="data-box">
              <div class="icon">⚠️</div>
              <p class="label">위험 폐기물</p>
              <p class="value" id="hazardousCount">0</p>
            </div>
            <div class="data-box">
              <div class="icon">♻️</div>
              <p class="label">재활용 가능</p>
              <p class="value" id="recyclableCount">0</p>
            </div>
            <div class="data-box">
              <div class="icon">🌡️</div>
              <p class="label">탄소 배출량 추정</p>
              <p class="value" id="carbonEmission">0 kg</p>
            </div>
          </div>
        </div>

        <div class="waste-container">
          <div class="chart-title">폐기물 종류 비율</div>
          <canvas id="wasteChart"></canvas>
        </div>

        <div class="object">
          <h3 class="section-title">탐지된 객체</h3>
          <div class="object-scroll">
            <ul class="object-list"></ul>
          </div>
        </div>
      </div>
    </div>

    <div class="bottom-stats">
      <div class="top-carbon-table" id="carbonTableWrapper">
        <h3>Top Carbon Emission</h3>
        <table id="carbonTable">
          <thead>
            <tr><th>#</th><th>Name</th><th>Count</th><th>Carbon(kg)</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="carbon-chart-section">
        <h3>월별 폐기물 배출량 비교</h3>
        <canvas id="carbonChart"></canvas>
      </div>
    </div>

  </div>

  <script src="/static/js/Waste_disposalJS.js"></script>
</body>
</html>
